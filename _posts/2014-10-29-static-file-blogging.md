---
layout: post
title: "Blogging like it's 2014"
category: blog
---

Over the past few years, I tried various Content-Management-Systems, Blogging 
softwares, etc. I've used [Joomla][joomla], [WordPress][wordpress], 
[Ghost][ghost], and many more -- and didn't really like any of them.

But the point of this post is not to rant about any of the above. I am big fan 
of WordPress (mainly because of its simplicity) and Ghost is a very promising 
project. If you look after alternatives to these database-driven server-side 
systems, Static Site Generator are the obvious choice.

### Static Site Generators

If you think about it, a typical blog almost never contains truly dynamic 
content. The only really dynamic resource would be comments, which I always 
disliked. If you want to talk about an article, use Social Media; if you want 
to ask me a question, use [E-Mail](/about.html#contact). With no complicated 
dynamic content, everything else is just a static page.

Using static files instead of pages generated by a server-side script and a 
database has a lot of benefits, the most obvious being the ability to work 
without a database, which is often the slowest (and most error prone) part of 
sites using WordPress or similar. Removing the database from the stack also 
brings a lot of security benefits. If there is no dynamic system, the only 
thing to be hacked is the web server (And these have proven to be pretty 
secure).

Another important benefit is the speed of modern web servers. Servers like 
[Apache 2][apache] or [nginx][nginx] are designed from the ground up to serve 
static files -- and they do that extremely fast and reliable.

### How this blog works

I use [Jekyll][jekyll] to build my site. This is the software used by 
[GitHub Pages][github-pages], so it is industry-approved™ and used by a lot of 
people. It's written in Ruby (An instant +1 in my book), really easy to modify, 
and dead-simple to install, since it is distributed as a RubyGem. A simple `gem 
install jekyll` and you're done.

Since the default Jekyll theme is pretty awful, I wrote a custom one. I focused 
on usability and modern technologies, so the entire theme is valid HTML5 and 
CSS, is optimized for performance and speed (All essential external assets 
combined weigh in at less than 150kiB!), and uses High-DPI-ready icons through 
SVG.

As for the design, I went with a simplistic single-column layout, with the 
additional benefit that I didn't really have to do anything to make the site 
work on mobile. My main content font is [Source Serif Pro][source-serif] by 
Frank Grießhammer (Adobe), together with [Lora][lora] for the title on the 
front page. I decided to use [Crimson Text][crimson-text] for all italic text, 
since (sadly!) Source Serif Pro has no italics yet.

### Deployment

This is probably the most interesting part of static-page websites. Instead of 
simply `scp`-ing the files to the web server, I went with a little more 
"interesting" approach.

The one big advantage of a database-driven server-side CMS is the possibility 
to create or edit content directly in your browser, but there are setups for a 
static-file websites that allow nearly the same type of flexibility.

Since I use git to version-control this blog, I can setup a remote repository 
on GitHub. This also allows anyone who is interested in this website to look at 
the source code and, since I released the source of this site under the very 
liberal [MIT License][mit-license], gives them the opportunity to use it for 
their own projects.

How do I get my files on my server? I don't, technically -- Instead, I make the 
server grab and generate them. GitHub allows you to set custom "Webhooks" for 
every repository. A webhook is basically just a HTTP-`POST` request with custom 
payload to a URI of your choice, that gets executed every time a certain event 
(like a push or a pull-request) happens.

In my case, I have a webhook that calls a script on my server on each push. 
Said script then clones the GitHub repository into a temporary directory and 
builds the site. It then moves the generated content into the live folder, 
overwriting the old file stored in there.

The benefit of this whole technique (which is admittedly more complicated than 
a simple `scp`) is that I can work on the website from any machine, as long as 
it has git and a text editor. I simply clone my repository, make my changes, 
push them, and lay back as I watch the server do everything for me.

### Conclusion, I guess?

Static-file sites have a lot of benefits. It's probably the most secure way to 
setup a blog, it's incredibly flexible in terms of server environment, 
development environment, and templating, and it allows me (Much like a web 
based editor) to work from nearly anywhere, even without having access to the 
SSH keys to my server.


[joomla]: 		http://www.joomla.org
[wordpress]:	https://wordpress.org
[ghost]:		https://ghost.org
[apache]:		https://httpd.apache.org
[nginx]:		http://nginx.org
[jekyll]:		http://jekyllrb.com
[github-pages]: https://pages.github.com
[source-serif]: https://adobe-fonts.github.io/source-serif-pro
[lora]:			https://www.google.com/fonts/specimen/Lora
[crimson-text]:	https://www.google.com/fonts/specimen/Crimson+Text
[github-repo]:	https://github.com/elomatreb/website
[mit-license]:	http://opensource.org/licenses/MIT
